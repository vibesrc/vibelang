// Test defer statement with LIFO execution order

fn main() -> i32 {
    let result = 0

    // Defer expressions should execute in reverse order (LIFO)
    // When function returns, these run: third (x3), then second (x2), then first (+1)

    defer result = result + 1     // Runs 3rd: result becomes 0 + 1 = 1
    defer result = result * 2     // Runs 2nd: result becomes 1 * 2 = 2
    defer result = result * 3     // Runs 1st: result becomes 2 * 3 = 6

    // But wait - defer runs AFTER we compute return value...
    // Let's use a simpler test that just checks defer runs

    return 42
}
